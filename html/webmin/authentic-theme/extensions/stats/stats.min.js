'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var stats={general:{timeout:1000,stopped:1,error:0,requery:0,call:{},extend:{prefix:v___location_prefix,error:connection_error,state:function state(){return v___theme_state_visible;},enabled:function enabled(){return settings_sysinfo_real_time_status;},timeout:function timeout(){return settings_sysinfo_real_time_timeout;}},query:function query(){var _this=this;this.stopped&&function(){_this.stopped=0;_this.call={};_this.call=$.ajax({context:_this,url:_this.extend.prefix+"/stats.cgi?xhr-stats=general",error:function error(xhr){var _this2=this;this.error++;if(this.error>3){this.extend.error(xhr,1),this.stopped=1,this.error=0,this.requery=0;return;}!this.requery&&(this.requery=setTimeout(function(){_this2.stopped=1,_this2.requery=0,_this2.query();},3000));},success:function success(data){var _this3=this;this.error=0;setTimeout(function(){_this3.render(data);},this.timeout);this.stopped=1;},dataType:"json"});}();},render:function render(data){Object.entries(data).map(function(_ref){var _ref2=_slicedToArray(_ref,2),target=_ref2[0],data=_ref2[1];var v=parseInt(data),vo=(typeof data==="undefined"?"undefined":_typeof(data))==='object'?data[data.length-1]:false,vt=vo?vo:v,$pc=$('#system-status .piechart[data-charts*="'+target+'"]'),$lc=$('.info-container .'+target+'_percent'),$od=$('#system-status span[data-id="sysinfo_'+target+'"], .info-container span[data-data="'+target+'"]');if(Number.isInteger(v)){if($pc.length){$pc.data('easyPieChart').update(v);}if($lc.length){$lc.find('.bar').attr('style','width:'+v+'%');var $dp=$lc.find('.description'),$lb=$dp.text().split(":")[0];$dp.attr('title',vo).text($lb+": "+v+'% ('+vo+')');}if($od.length){if($od.find('a').length){$od.find('a').text(vt);}else{$od.text(vt);}}}});this.extend.state()&&this.query();},kill:function kill(){var _this4=this;var abort=this.call.abort;typeof abort==="function"&&(abort.call(),this.stopped=0);setTimeout(function(){_this4.stopped=1,_this4.call={};},this.timeout+2);},enable:function enable(){if(this.extend.enabled()){this.timeout=this.extend.timeout(),this.stopped=1,this.query();}}}};
